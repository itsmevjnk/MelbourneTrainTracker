<!DOCTYPE html><html><head><title>Melbourne Train Tracker</title><style>body,html{width:100%;height:100%;margin:0}body{margin:0 auto}@media (min-width:768px){body{max-width:750px}}@media (min-width:992px){body{max-width:970px}}@media (min-width:1200px){body{max-width:1170px}}iframe{border:0} </style></head><body><h1>Melbourne Train Tracker</h1><section><h2>Settings</h2> LED drivers: <input type="radio" id="driver0" name="driver" value="0"/><label for="driver0">Off</label><input type="radio" id="driver1" name="driver" value="1"/><label for="driver1">On</label></section><section><h2>LED Buffer View</h2><iframe src="board.htm" width="100%" scrolling="no" id="bview"></iframe></section><script>const board=document.getElementById('bview');const updateBoardHeight=()=>{board.setAttribute('height',board.clientWidth/423.5*402.4+'px')};window.addEventListener('load',updateBoardHeight);window.addEventListener('resize',updateBoardHeight);const host=window.location.hostname;window.addEventListener('load',()=>{fetch(`http://${host}/driver`).then((resp)=>resp.text()).then((data)=>document.getElementById('driver'+data).checked=!0)});for(let i=0;i<2;i++)document.getElementById(`driver${i}`).addEventListener('change',()=>fetch(`http://${host}/driver?s=${i}`,{method:'POST'})) </script></body></html>